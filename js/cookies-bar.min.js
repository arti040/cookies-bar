/*
 *
 * name: cookies-bar
 * description: Simple and non-annoying Cookie-bar for your webstite 
 * version: 1.2 (11.11.2014)
 * author: Piotr Potera
 * www: http://piotrpotera.com
 * github: https://github.com/arti040
 *
 */
var cookiesBar=function(e){function t(e,t){var n;if(e=="body"){n=document.body}else{n=document.getElementById(e)}var r;if(n.currentStyle){r=n.currentStyle[t]}else if(window.getComputedStyle){r=document.defaultView.getComputedStyle(n,null).getPropertyValue(t)}return r}function n(e,t,n){if(n){var r=new Date;r.setTime(r.getTime()+n*24*60*60*1e3);var i="; expires="+r.toGMTString()}else var i="";document.cookie=e+"="+t+i+"; path=/"}function r(e){var t=e+"=";var n=document.cookie.split(";");for(var r=0;r<n.length;r++){var i=n[r];while(i.charAt(0)==" ")i=i.substring(1,i.length);if(i.indexOf(t)==0)return i.substring(t.length,i.length)}}function i(e){n(e,"",-1)}function s(){var e,t,n,r=arguments[0]||{},i=1,s=arguments.length;if(s===i){console.log("Only one argument passed. Returning...");return false}for(;i<s;++i){if((e=arguments[i])!=null){for(t in e){n=e[t];if(r===n){continue}if(n!==undefined){r[t]=n}}}}return r}var o=r(o);if(!o){var u,a,f={};var l=t("body","font-size");var c=Math.floor(window.innerWidth/parseFloat(l)*10)/10;var h={mainText:"We use cookies to track usage and preferences.",agreeLinkLabel:"I understand",declineLinkLabel:"Decline",detailsLinkLabel:"Cookies Policy Â»",declineURL:"",detailsURL:"",detailsLink:false,declineLink:false,expireDays:365,cookieEnabled:false,showSpeed:25,hideSpeed:5,position:"absolute"};f=s({},h,e);if(e.detailsLink===true&&e.detailsURL.toString().length==0){e.mainText="Error: opts.detailsURL is empty. Check it!";e.detailsLink=false}if(e.declineLink===true&&e.declineURL.toString().length==0){e.mainText="Error: opts.declineURL is empty. Check it!";e.detailsLink=false}var p=document.createElement("div");p.setAttribute("id","cookies-bar");p.style.position=f.position;if(e.detailsLink){var d=document.createElement("a");d.setAttribute("href",e.detailsURL);d.innerHTML=e.detailsLinkLabel}var v=document.createElement("a");v.setAttribute("id","accept-link");v.setAttribute("href","#");v.innerHTML=f.agreeLinkLabel;if(e.declineLink){var m=document.createElement("a");m.setAttribute("id","decline-link");m.setAttribute("href",e.declineURL);m.innerHTML=e.declineLinkLabel}var g=document.createElement("p");g.innerHTML=f.mainText;var y=window.addEventListener?"":"on";var b=window.addEventListener?"addEventListener":"attachEvent";v[b](y+"click",function(r){r.preventDefault();if(c<64){p.style.display="none"}else{var i=parseInt(t("cookies-bar","top"));var s=parseInt(t("cookies-bar","height"));clearInterval(u);a=setInterval(function(){i=--i;p.style.top=i+"px";if(i==s){clearInterval(a);p.style.display="none"}},e.hideSpeed)}if(e.cookieEnabled){n(o,1,e.expireDays)}},false);if(f.detailsLink){g.appendChild(d)}p.appendChild(g);if(f.declineLink){p.appendChild(m)}p.appendChild(v);document.body.appendChild(p)}else{return null}if(c<64){p.style.top=0}else{p.style.display="block";var w=parseInt(t("cookies-bar","height"));p.style.top=-w+"px";var E=parseInt(t("cookies-bar","top"));u=setInterval(function(){E=++E;p.style.top=E+"px";if(parseInt(p.style.top)==0){clearInterval(u)}},e.showSpeed)}}